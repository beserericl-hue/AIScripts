# =============================================================================
# CSHSE Server Environment Variables
# =============================================================================
# Copy this file to .env and configure for your environment
# For Railway deployment, set these in the Railway dashboard under Variables

# =============================================================================
# Server Configuration
# =============================================================================

# Port the server listens on (Railway sets this automatically)
PORT=8080

# Environment mode: development, production, test
NODE_ENV=production

# =============================================================================
# Database Configuration
# =============================================================================

# MongoDB connection string
# For Railway: Use the MongoDB plugin or provide Atlas connection string
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>
MONGODB_URI=mongodb://localhost:27017/cshse

# For Docker deployment:
# MONGODB_URI=mongodb://admin:password@mongodb:27017/cshse?authSource=admin

# =============================================================================
# Authentication
# =============================================================================

# JWT Secret Key for signing authentication tokens
# IMPORTANT: Generate a strong random string for production (min 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=your-secure-jwt-secret-key-change-in-production

# JWT token expiration time
JWT_EXPIRES_IN=7d

# =============================================================================
# Superuser Account (Created on First Deployment)
# =============================================================================

# Full name of the superuser (will be parsed into first/last name)
SU_NAME=Eric Beser

# Email address for superuser login
SU_EMAIL=eric@agileadtesting.com

# Password for superuser account
# IMPORTANT: Change this to a secure password
SU_PASSWORD=change-this-password-in-production

# =============================================================================
# Application URL
# =============================================================================

# Base URL for the application (frontend and API share the same domain)
# API endpoints are accessed at APP_URL/api/*
# For Railway: This will be your Railway deployment URL
# Example: https://your-app.railway.app
APP_URL=http://localhost:8080

# =============================================================================
# N8N Webhook Integration (Optional)
# =============================================================================

# N8N webhook URL for validation workflows
# Configure this in the admin settings UI, or set here for default
# N8N_WEBHOOK_URL=https://your-n8n-instance/webhook/cshse-validate

# N8N API key for authentication
# N8N_API_KEY=your-api-key

# =============================================================================
# Railway Deployment Configuration
# =============================================================================
#
# When deploying to Railway:
#
# 1. Required Variables (set in Railway dashboard):
#    - MONGODB_URI (use Railway's MongoDB plugin or Atlas)
#    - JWT_SECRET (generate secure random string)
#    - SU_NAME, SU_EMAIL, SU_PASSWORD (superuser credentials)
#    - APP_URL (your Railway deployment URL)
#
# 2. Railway Automatic Variables:
#    - PORT is set automatically by Railway
#    - NODE_ENV should be set to "production"
#
# 3. MongoDB Setup Options:
#    a) Railway MongoDB Plugin: Add from Railway dashboard, auto-configures MONGODB_URI
#    b) MongoDB Atlas: Create free cluster and use connection string
#
# 4. CI/CD: Railway auto-deploys on push to main branch
#
# =============================================================================
